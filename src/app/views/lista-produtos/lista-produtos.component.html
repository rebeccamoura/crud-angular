<div class="listagem-produtos">

    <header class="header">

        <h1 class="mt-5">Listagem de produtos</h1>
        <!--<input type="search" name="" id="">-->

    </header>

    <button class="mt-3" routerLink="/cadastro">Novo produto</button>

    <p *ngIf="this.productService.products.length == 0">Não há produtos cadastrados.</p>
        
    <table class="table table-striped mt-5" *ngIf="this.productService.products.length > 0">

        <thead>

            <tr>
                <th scope="col">Descrição</th>
                <th scope="col">Preço</th>
                <th scope="col">Categoria</th>
                <th scope="col">Estoque mínimo</th>
                <th scope="col">Fornecedor</th>
                <th scope="col">Ações</th>
            </tr>
                
        </thead>

        <tbody>

            <tr [id]="produto.id" *ngFor="let produto of this.productService.products">
                <td>{{ produto.descricao }}</td>
                <td>{{ produto.preco }}</td>
                <td>{{ produto.categoria }}</td>
                <td>{{ produto.estoqueMin }}</td>
                <td>{{ produto.fornecedor }}</td>
                <td>
                    <i class="fas fa-edit mr-3 ml-2"></i>
                    <i (click)="popUpExcluirProduto($event)" class="fas fa-trash"></i>
                </td>
            </tr>

        </tbody>

    </table>

    <!--<button (click)="exibirProdutos()">
        Clique aqui para testar
    </button>-->

</div>

<div class="background excluir editar d-none"></div>
<div class="pop-up excluir d-none">
    <h1 class="mb-5 mt-2">Deseja deletar esse produto?</h1>
    <h2>Descrição:</h2>
    <p class="pop-up excluir desc">Descrição</p>
    <h2>Preço:</h2>
    <p class="pop-up excluir preco">R$0,00</p>
    <h2>Categoria:</h2>
    <p class="pop-up excluir categoria">Categoria</p>
    <h2>Estoque mínimo:</h2>
    <p class="pop-up excluir estoque">0</p>
    <h2>Fornecedor:</h2>
    <p class="pop-up excluir fornecedor">Fornecedor</p>

    <button (click)="excluirProduto()" class="red-button mt-5">Excluir</button>
</div>

<div class="pop-up editar d-none">

    <form>

        <label for="descricao" class="form-label">Descrição</label>
        <input type="text" class="form-control" name="descricao" [(ngModel)]="product.descricao">

        <label for="preco" class="form-label">Preço</label>
        <input type="number" class="form-control" name="preco" [(ngModel)]="product.preco">

        <label for="categoria" class="form-label">Categoria</label>
        <input type="text" class="form-control" name="categoria" [(ngModel)]="product.categoria">

        <label for="estoque-minimo" class="form-label">Estoque mínimo</label>
        <input type="number" class="form-control" name="estoque-minimo" [(ngModel)]="product.estoqueMin">

        <label for="fornecedor" class="form-label">Fornecedor</label>
        <input type="text" class="form-control" name="fornecedor"  [(ngModel)]="product.fornecedor">

    </form>

</div>
